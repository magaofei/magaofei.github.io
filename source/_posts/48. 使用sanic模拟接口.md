---
title: 性能测试时，使用sanic mock接口
date: 2018-04-11 12:56:56
tags: 
 - python
 - mock
 - 性能测试
---

#性能测试时，使用sanic mock接口

在做性能测试时，所压测的接口可能因为某种原因不能直接调用，这个时候我们可以模拟这个接口的响应时间。假设这个接口是没有问题的，那么只要我们的响应时间自定义就可以了



这里使用 `sanic` 对接口进行`mock` ，为什么需要这个？因为 `sanic` 足够快



以下为测试数据

压测机：  CPU：超线程12核  内存： 64G。

被压机器配置： CPU：超线程12核  内存： 64G。

工具：JMeter

网络环境：内网



| Total  | 请求数 | 失败数 | 平均值 | Min  | Max   | 90%    | 95%    | 99%    | TPS     |
| ------ | ------ | ------ | ------ | ---- | ----- | ------ | ------ | ------ | ------- |
| normal | 378493 | 0.00%  | 15.58  | 0    | 10700 | 14.00  | 24.00  | 307.64 | 6324.03 |
| 100 ms | 58497  | 0.00%  | 101.62 | 100  | 269   | 103.00 | 103.00 | 104.00 | 976.43  |

GitHub地址：https://github.com/magaofei/mock_sanic

